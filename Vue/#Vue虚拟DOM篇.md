# Vue虚拟DOM篇

[虚拟DOM篇](https://github.com/Him-wen/itblogs/blob/main/JavaScript%E7%B3%BB%E5%88%97/%23%E8%99%9A%E6%8B%9FDOM.md)
介绍了：**What、How、Why**
虚拟DOM的优势和劣势


我们可以用JS模拟出一个DOM节点，称之为虚拟DOM节点。当数据发生变化时，我们对比变化前后的虚拟DOM节点，通过DOM-Diff算法计算出需要更新的地方，然后去更新需要更新的视图。

这就是虚拟DOM产生的原因以及最大的用途。

# Vue中的虚拟DOM
## Vnode类

## VNode的类型
VNode类可以描述出各种类型的真实DOM节点。那么它都可以描述出哪些类型的节点呢？通过阅读源码，可以发现通过**不同属性的搭配**，可以描述出以下几种类型的节点。

- 注释节点
- 文本节点
- 元素节点(重点)
- 组件节点
- 函数式组件节点
- 克隆节点

以上就是VNode可以描述的多种节点类型，它们本质上都是VNode类的实例，只是在实例化的时候传入的属性参数不同而已。

## VNode的作用
那么VNode在Vue的整个虚拟DOM过程起了什么作用呢？

其实VNode的作用是相当大的。我们在视图渲染之前，把写好的**template模板**先编译成**VNode**并缓存下来，等到数据发生变化页面需要重新渲染的时候，我们把数据发生变化后生成的VNode与前一次缓存下来的VNode进行**对比**，找出差异，然后**有差异的VNode**对应的真实DOM节点就是需要重新渲染的节点，最后根据有差异的VNode创建出**真实的DOM节点**再插入到视图中，最终完成一次视图更新。

## 总结

本章首先介绍了虚拟DOM的一些基本概念。
接着我们知道了在Vue中是通过VNode类来实例化出不同类型的虚拟DOM节点，并且学习了不同类型节点生成的属性的不同，所谓不同类型的节点其本质还是一样的，都是VNode类的实例，只是在实例化时传入的属性参数不同罢了。
最后探究了VNode的作用，有了数据变化前后的VNode，我们才能进行后续的DOM-Diff找出差异，最终做到只更新有差异的视图，从而达到尽可能少的操作真实DOM的目的，以节省性能。
